/**
 * @module Clients / BaseClient
 * @category Entities
 */
import { AxiosInstance, AxiosRequestConfig } from 'axios';
import { DropData, JwtConfig, LedgerIdentifier, LedgerMeta, LedgerRecord, LedgerRequestHashParams, LedgerSignature } from "../../../../types/src";
import { BaseRecordResponse, RecordResponseClass } from '../types/base-record-response';
import { BaseResponse, ResponseClass } from '../types/base-response';
import { DropRecordResponse } from '../types/drop-record-response';
import { LedgerListParams } from '../types/list-params';
import { BaseListResponse, ListResponseClass } from '../types/list-response';
export type BaseClientOptions = {
    apiClient: AxiosInstance;
    secure?: JwtConfig;
    ledger?: string;
};
/**
 * A base API client that contains generic functions to make
 * API requests compatible with the ledger API.
 */
export declare abstract class BaseClient {
    private apiClient;
    private authParams;
    private activeLedger;
    protected links: BaseClient[];
    protected id: LedgerIdentifier;
    private parentId;
    protected readonly secure: Partial<JwtConfig>;
    constructor(options: BaseClientOptions);
    /**
     * Internal function for building request hash
     * based on HTTP request variables.
     *
     * @param requestHashParams Configuration object for request hashing
     * @returns request hash
     */
    private buildRequestHash;
    /**
     * Internal function for building the bearer token
     * from Ledger Auth params.
     *
     * @param requestHashParams Configuration object for request hashing
     * @param authParams Params for building JWT
     * @returns the bearer token
     */
    protected buildJwt(requestHashParams: LedgerRequestHashParams, authParams?: Partial<JwtConfig>): Promise<string>;
    protected buildHeaders(token: string): {
        'X-Ledger': string;
        Authorization: string;
    } | {
        'X-Ledger'?: undefined;
        Authorization: string;
    } | {
        'X-Ledger': string;
        Authorization?: undefined;
    } | {
        'X-Ledger'?: undefined;
        Authorization?: undefined;
    };
    /**
     * Internal function for creating new ledger records
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected createRecord<T, R extends BaseRecordResponse<T, M>, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: RecordResponseClass<T, R, M>, record: LedgerRecord<T, M>, authParams?: Partial<JwtConfig>): Promise<R>;
    /**
     * Internal function for ledger records lookup
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected lookupRecord<T, R extends BaseListResponse<T, M>, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: ListResponseClass<T, R, M>, lookupRecord: LedgerRecord<T, M>, authParams?: Partial<JwtConfig>): Promise<R>;
    /**
     * Internal function for activating ledger records
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected activateRecord<T, R extends BaseResponse, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: ResponseClass<R>, record: LedgerRecord<T, M>, authParams?: Partial<JwtConfig>): Promise<R>;
    /**
     * Internal function for updating ledger records
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected updateRecord<T, R extends BaseRecordResponse<T, M>, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: RecordResponseClass<T, R, M>, record: LedgerRecord<T, M>, authParams?: Partial<JwtConfig>): Promise<R>;
    /**
     * Internal function for creating new ledger records
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected signRecord<T, R extends BaseRecordResponse<T, M>, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: RecordResponseClass<T, R, M>, signature: LedgerSignature, authParams?: Partial<JwtConfig>): Promise<R>;
    /**
     * Internal function for droping ledger records
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected dropRecord<T, M extends LedgerMeta = LedgerMeta>(path: string, deletionRecord: LedgerRecord<DropData, M>, authParams?: Partial<JwtConfig>): Promise<DropRecordResponse>;
    /**
     * Internal function for fetching a single ledger record
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected getRecord<T, R extends BaseRecordResponse<T, M>, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: RecordResponseClass<T, R, M>, authParams?: Partial<JwtConfig>): Promise<R>;
    /**
     * Internal function for fetching a list of ledger records
     * and enforcing the correct types on axios.
     *
     * @param path API path to call
     * @returns the API response
     */
    protected getRecordsList<T, R extends BaseListResponse<T, M>, M extends LedgerMeta = LedgerMeta>(path: string, ResponseClass: ListResponseClass<T, R, M>, params?: LedgerListParams): Promise<R>;
    /**
     * Resolves the path before sending the request in order
     * to generate the correct JWT
     *
     * @param {string} url url to be resolved
     * @param {AxiosRequestConfig} [config] axios request configuration
     * that will be used to send the request
     * @returns {string} resolved path
     */
    protected createRelativeUrl(url: string, config?: AxiosRequestConfig): string;
    /**
     * Set config params to build authentication Jwt
     *
     * @param authParams jwt configuration
     */
    setAuthParams(authParams: Partial<JwtConfig>): void;
    /**
     * Sets active ledger
     * @param handle active ledger handle
     */
    setActiveLedger(handle: string): void;
    /**
     * Gets active ledger
     * @returns active ledger handle
     */
    getActiveLedger(): string;
    /**
     * Asserts the client doesn't have
     * an active ledger set in context
     * @throws {LedgerSdkError}
     */
    protected assertSingleTenant(): void;
    /**
     * Asserts the client has
     * an active ledger set in context
     * @throws {LedgerSdkError}
     */
    protected assertMultiTenant(): void;
    /**
     * Creates a new instance of the client and sets
     * the id to the context.
     *
     * @param id
     */
    with(id: LedgerIdentifier): this;
    /**
     * Sets record identifier to context.
     *
     * This method is also responsible for updating
     * the parent id of their linked clients.
     *
     * @param id
     */
    protected setId(id: LedgerIdentifier): this;
    /**
     * Sets parent client record id to context
     *
     * @param id
     */
    protected setParentId(id: LedgerIdentifier): void;
    /**
     * Ensures parent id is set
     *
     * @returns parent id
     */
    protected assertParentId(): LedgerIdentifier;
    /**
     * Ensures id is set
     *
     * @returns id
     */
    protected assertId(): LedgerIdentifier;
}
